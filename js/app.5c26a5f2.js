(function(e){function t(t){for(var n,o,c=t[0],i=t[1],u=t[2],p=0,v=[];p<c.length;p++)o=c[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&v.push(a[o][0]),a[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);l&&l(t);while(v.length)v.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,c=1;c<r.length;c++){var i=r[c];0!==a[i]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},s=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},"1ae4":function(e,t,r){r("99af");var n=r("ded3"),a=r("4082");e.exports={functional:!0,render:function(e,t){var r=t._c,s=(t._v,t.data),o=t.children,c=void 0===o?[]:o,i=s.class,u=s.staticClass,l=s.style,p=s.staticStyle,v=s.attrs,d=void 0===v?{}:v,f=a(s,["class","staticClass","style","staticStyle","attrs"]);return r("svg",n({class:[i,u],style:[l,p],attrs:Object.assign({viewBox:"0 0 122 83"},d)},f),c.concat([r("path",{attrs:{d:"M121.8 82.1c-.7.1-1.3.2-1.8.2-1 0-1.7-.2-2.2-.6-.5-.3-.8-.8-.9-1.3-.1-.6-.1-1.4-.1-2.3v-7.9h-1.7v-1.8h1.7v-3.5l2.3-1.4v4.9h2.3v1.8h-2.3v8c0 .7.1 1.2.2 1.5.2.2.5.4 1.1.4.3 0 .7 0 1-.1l.4 2.1zM80.7 68.4l-4.3 13.7H74l-2.2-8.3s-.1-.3-.2-1.1c-.2-.7-.3-1.1-.3-1.2l-2.8 10.6h-2.4l-4.2-13.7h2.4l3 10.8.5-1.8 2.4-9h2.4l1.8 7.1c.6 2 .8 3.2.9 3.4l3.2-10.5h2.2zm12.4 13.7h-2.5c-.2-.4-.4-1-.5-1.7-1.5 1.3-3.2 2-5 2-1.5 0-2.6-.4-3.5-1.1-.8-.7-1.2-1.7-1.2-2.9 0-1.1.4-2 1.2-2.8.8-.7 2.2-1.2 4.2-1.4l2.2-.4c.8-.1 1.5-.2 2-.4 0-.7 0-1.2-.1-1.5 0-.3-.2-.6-.4-.9-.2-.3-.5-.6-1-.8-.4-.2-1.1-.3-1.9-.3-1 0-1.8.2-2.3.6-.6.4-1 1.1-1.2 2.1l-2.3-.3c.2-1.4.9-2.5 1.9-3.2 1.1-.7 2.5-1.1 4.3-1.1 1.6 0 2.8.3 3.6.8.8.5 1.3 1.1 1.4 1.7.2.7.3 1.6.3 2.7v3.1c0 1.9 0 3.2.1 3.9.1.6.3 1.3.7 1.9zM90 76v-.8c-1.2.4-2.7.7-4.5 1-1.7.2-2.6.9-2.6 2.2 0 .6.2 1.1.7 1.6.5.4 1.1.6 2 .6 1.2 0 2.2-.4 3.1-1.1.8-.6 1.3-1.8 1.3-3.5zm6.7 6.1h-2.3v-19h2.3v19zm4.4 0h-2.3v-19h2.3v19zm14-6.3h-10.3c.1 1.5.5 2.7 1.3 3.5.8.8 1.7 1.2 2.9 1.2.9 0 1.6-.2 2.2-.7.6-.5 1.1-1.2 1.4-2.1l2.4.3c-.4 1.4-1.1 2.5-2.1 3.3-1.1.7-2.3 1.1-3.9 1.1-2.1 0-3.7-.6-4.8-1.9-1.2-1.3-1.8-3-1.8-5.2 0-2.1.6-3.9 1.7-5.2 1.1-1.4 2.7-2.1 4.8-2.1 1 0 1.9.3 2.9.7.9.4 1.7 1.2 2.3 2.3.7 1 1 2.6 1 4.8zm-2.4-1.9c-.1-1.4-.5-2.4-1.3-3-.8-.6-1.6-1-2.5-1-1.1 0-2 .4-2.7 1.1-.7.8-1.1 1.7-1.3 2.9h7.8z",fill:"#636466"}}),r("path",{attrs:{d:"M16.2 65.7c-1.6-1.7-3.1-2.1-4.5-2.1-4.4 0-7.4 3.4-7.4 7.8 0 4.7 3 8.1 7.4 8.1 1.7 0 3.4-.8 4.8-2.7l3.1 2.3c-2 2.7-5 3.8-8.1 3.8C4.8 82.9 0 78.4 0 71.6 0 64.6 4.8 60 11.5 60c3 0 5.4 1 7.6 3.5l-2.9 2.2zM27.7 67.3c4.4 0 8 3.1 8 7.7 0 4.5-3.6 7.7-8 7.7s-7.9-3.2-7.9-7.7c0-4.6 3.5-7.7 7.9-7.7zm0 12.1c2.7 0 4.3-2.2 4.3-4.4 0-2.3-1.6-4.4-4.3-4.4-2.7 0-4.2 2.1-4.2 4.4 0 2.2 1.5 4.4 4.2 4.4zM39.5 60.5c1.3 0 2.4 1 2.4 2.2 0 1.3-1 2.3-2.4 2.3s-2.2-1-2.2-2.3c0-1.2.9-2.2 2.2-2.2zm-1.8 7.1h3.7v14.8h-3.7V67.6zM44.1 67.6h3.5V70c.7-1.4 2-2.7 4.6-2.7 4 0 5.4 2.8 5.4 5.8v9.3h-3.7V75c0-1.6-.2-4.3-2.7-4.3-2.4 0-3.4 1.9-3.4 3.7v8h-3.7V67.6zM67.1 0c-4.3.1-7.7 3.6-7.7 8 .2 4.2 3.6 7.6 8 7.6 4.3-.1 7.7-3.5 7.7-7.9-.2-4.3-3.7-7.7-8-7.7zm.1 14.9c-3.9.2-7.2-3-7.2-6.9-.1-4 3.1-7.3 7-7.3 3.9-.1 7.2 3.1 7.2 7 .2 4-3 7.2-7 7.2z",fill:"#367D40"}}),r("path",{attrs:{d:"M67.8 8.1h-1.1V10h1c1 0 1.4-.5 1.4-1.2-.1-.6-1-.7-1.3-.7zM68.5 6.3c0-.8-.8-.8-1.3-.8h-.5v1.8h1.1c.3 0 .7-.3.7-1z",fill:"#367D40"}}),r("path",{attrs:{d:"M67.1 1.3c-3.7 0-6.5 3.1-6.4 6.7 0 3.7 3.1 6.5 6.7 6.4 3.7 0 6.5-3.2 6.4-6.7-.2-3.6-3.1-6.6-6.7-6.4zm1.3 9.6h-.2v1.5h-.8v-1.5h-.6v1.5H66v-1.5h-1.7l-.2-.7h.7c.2 0 .3-.1.3-.4 0-.3 0-3.7-.1-3.8 0-.3-.2-.3-.5-.3h-.7v-.9h1.7V3.4h.9v1.4h.6V3.4h.8v1.4c.9 0 2 .5 2.2 1.3.4.9-.5 1.3-.5 1.3s1.2.3 1.3 1.4c0 1.3-.6 2.1-2.4 2.1z",fill:"#367D40"}}),r("path",{attrs:{d:"M61.8 36.8v-3c0-3.5 2.5-6.4 6-6.4h13.7v-1.7c0-3.5-2.9-6.4-6.3-6.4H43.9c-3.4 0-6.2 2.9-6.2 6.4v19.2c0 3.6 2.8 6.4 6.2 6.4h31.3c3.4 0 6.3-2.8 6.3-6.4v-1.7H67.8c-3.5 0-6-2.8-6-6.4z",fill:"#575756"}}),r("path",{attrs:{d:"M80.3 29.1H68.8c-2.7 0-5 2.3-5 5v2.3c0 2.7 2.3 5 5 5h11.5c2.7 0 5-2.3 5-5v-2.3c0-2.8-2.3-5-5-5zM69 38c-1.6 0-2.7-1.3-2.7-2.7 0-1.6 1.2-2.7 2.7-2.7 1.5 0 2.7 1.2 2.7 2.7 0 1.5-1.2 2.7-2.7 2.7z",fill:"#575756"}}),r("path",{attrs:{d:"M53.5 12.8c-3.2 0-5.7 1.8-7 4.5h.7c1.1-2.2 3.6-3.8 6.3-3.8 2.8 0 5.2 1.6 6.5 3.8h.7c-1.3-2.7-4-4.5-7.2-4.5z",fill:"#367D40"}}),r("path",{attrs:{d:"M52.2 15.9h.8v1.4h.6v-1.4h.9v1.4h4.8c-1.2-1.9-3.4-3.4-5.8-3.4-2.5 0-4.6 1.5-5.6 3.4h4.3v-1.4z",fill:"#367D40"}})]))}}},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("b-container",{staticClass:"app-container"},[r("div",{staticClass:"py-5 text-center"},[r("Logo",{staticClass:"d-block mx-auto mb-4",attrs:{width:"128"}}),r("h2",[e._v("Recovery Tool")]),r("p",{staticClass:"lead"},[e._v("Recover missing funds from v2.19.0 (P2SH, Bech32).")])],1),r("b-row",[r("b-col",[r("b-form",{on:{submit:e.onSubmit}},[r("b-form-group",{attrs:{id:"input-group-1",label:"Enter Passphrase:","label-for":"input-1","invalid-feedback":"Invalid passphrase",state:e.passphraseState}},[r("b-form-input",{attrs:{id:"input-1",placeholder:"12-word passphrase","invalid-feedback":"Invalid passphrase",state:e.passphraseState,trim:"",required:"",disabled:!(!e.isLoading&&!e.recovery)},model:{value:e.form.passphrase,callback:function(t){e.$set(e.form,"passphrase",t)},expression:"form.passphrase"}})],1),r("b-form-group",{attrs:{id:"input-group-2",label:"Coin:","label-for":"input-2"}},[r("b-form-select",{attrs:{id:"input-2",options:e.coins,required:"",disabled:!(!e.isLoading&&!e.recovery)},model:{value:e.form.coin,callback:function(t){e.$set(e.form,"coin",t)},expression:"form.coin"}})],1),e.recovery?r("p",[e._v(" Missing funds: "+e._s(e.recovery.amountString)+" ")]):e._e(),r("b-alert",{attrs:{variant:"danger"},model:{value:e.errorAlert,callback:function(t){e.errorAlert=t},expression:"errorAlert"}},[e._v(" "+e._s(e.errorMessage)+" ")]),r("b-alert",{attrs:{variant:"success"},model:{value:e.successAlert,callback:function(t){e.successAlert=t},expression:"successAlert"}},[r("div",{domProps:{innerHTML:e._s(e.successMessage)}})]),e.successAlert||e.errorAlert?r("div",[r("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],attrs:{block:"",type:"button",variant:"primary"},on:{click:function(t){e.successAlert=!1,e.errorAlert=!1}}},[e._v(" OK ")])],1):r("div",[e.recovery?r("div",[r("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],attrs:{block:"",type:"button",variant:"primary"},on:{click:e.confirm}},[e._v(" Recover ")]),r("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],attrs:{block:"",type:"button",variant:"link"},on:{click:function(t){e.recovery=!1}}},[e._v(" Cancel ")])],1):r("div",[r("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],attrs:{block:"",type:"submit",variant:"primary"}},[e._v(" Continue ")])],1)]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"text-center"},[r("b-spinner",{attrs:{variant:"primary"}})],1)],1)],1)],1),r("footer",{staticClass:"my-5 pt-5 text-center text-small"},[r("a",{staticClass:"text-body text-decoration-none",attrs:{href:"https://www.coin.space",target:"_blank",rel:"noopener"}},[e._v(" Copyright CoinSpace Â© 2020 "),r("br"),e._v(" All Rights Reserved ")])])],1)],1)},s=[],o=(r("96cf"),r("1da1")),c=r("1ae4"),i=r.n(c),u=(r("4de4"),r("4160"),r("13d5"),r("fb6a"),r("b680"),r("d3b7"),r("159b"),r("df82")),l=r("bd46"),p=r("8707").Buffer,v=r("2061"),d=v.bitcoin,f=r("9dcd");function h(e){if(!u.validateMnemonic(e))throw new Error("Invalid passphrase");return u.mnemonicToSeedHex(e)}function b(e,t){return new Promise((function(r,n){var a={networkName:t,done:function(e,a){if(e){var s=t.charAt(0).toUpperCase()+t.slice(1);return"cs-node-error"===e.message?n(new Error("".concat(s," node error. Please try again later."))):n(e)}r(a)}},s=l.fromMasterSeed(new p(e,"hex")).derive("m/0'");a.externalAccount=s.deriveChild(0),a.internalAccount=s.deriveChild(1),a.minConf=3,a.addressType="p2pkh",a.getDynamicFees=function(){},a.getCsFee=function(){};var o=new v(a);return o}))}function m(e){var t=e.unspents.filter((function(e){return"p2sh"===e.type||"p2wpkh"===e.type}));t=e.getUnspentsForTx({unspents:t});var r=t.reduce((function(e,t){return e+t.value}),0),n=e.estimateFees(r,t)[0],a=r-n;if(a<0)throw new Error("Insufficient funds for recover.");if(0===t.length)return{amount:0};var s=new d.TransactionBuilder(e.network);t.forEach((function(t){s.addInputUniversal(e,t)})),s.addOutput(e.getNextAddress(),a),s.inputs.forEach((function(r,n){s.signUniversal(e.getPrivateKeyForAddress(t[n].address),n,t[n])}));var o=s.build();return{amount:a,amountString:y(a,e.networkName),wallet:e,hex:o.toHex()}}function g(e){return w.apply(this,arguments)}function w(){return w=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.wallet.networkName,e.prev=1,e.next=4,t.wallet.api.transactions.propagate(t.hex);case 4:if(n=e.sent,a=n.txId,"bitcoin"!==r){e.next=10;break}return e.abrupt("return","https://blockchair.com/bitcoin/transaction/".concat(a,"?from=coinwallet"));case 10:if("litecoin"!==r){e.next=12;break}return e.abrupt("return","https://blockchair.com/litecoin/transaction/".concat(a,"?from=coinwallet"));case 12:e.next=20;break;case 14:if(e.prev=14,e.t0=e["catch"](1),s=r.charAt(0).toUpperCase()+r.slice(1),"cs-node-error"!==e.t0.message){e.next=19;break}throw new Error("".concat(s," node error. Please try again later."));case 19:throw e.t0;case 20:case"end":return e.stop()}}),e,null,[[1,14]])}))),w.apply(this,arguments)}function y(e,t){var r="0";return e&&(r=f(e).div(1e8).toFixed()),"bitcoin"===t?"".concat(r," BTC"):"litecoin"===t?"".concat(r," LTC"):void 0}var x=[{value:"bitcoin",text:"BTC - Bitcoin"},{value:"litecoin",text:"LTC - Litecoin"}],k={name:"App",components:{Logo:i.a},data:function(){return{form:{passphrase:"",coin:x[0].value},coins:x,passphraseState:null,isLoading:!1,errorAlert:!1,errorMessage:"",successAlert:!1,successMessage:"",recovery:!1}},methods:{onSubmit:function(e){var t=this;e.preventDefault(),this.isLoading=!0,this.passphraseState=null,this.recovery=!1,this.errorAlert=!1,this.successAlert=!1,setTimeout(Object(o["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,r=h(t.form.passphrase.toLowerCase()),e.next=9;break;case 4:return e.prev=4,e.t0=e["catch"](0),t.passphraseState=!1,t.isLoading=!1,e.abrupt("return");case 9:return e.prev=9,e.next=12,b(r,t.form.coin);case 12:n=e.sent,a=m(n),a.amount>0?t.recovery=a:(t.successAlert=!0,t.successMessage="There is no missing funds."),e.next=23;break;case 17:return e.prev=17,e.t1=e["catch"](9),t.errorAlert=!0,t.errorMessage=e.t1.message,t.isLoading=!1,e.abrupt("return");case 23:t.isLoading=!1;case 24:case"end":return e.stop()}}),e,null,[[0,4],[9,17]])}))),300)},confirm:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.preventDefault(),t.isLoading=!0,r.prev=2,r.next=5,g(t.recovery);case 5:n=r.sent,t.recovery=!1,t.successAlert=!0,t.successMessage='Success! Funds will be recovered by this <a class="alert-link" href="'.concat(n,'" target="_blank" rel="noopener">transaction</a> soon.'),r.next=17;break;case 11:return r.prev=11,r.t0=r["catch"](2),t.errorAlert=!0,t.errorMessage=r.t0.message,t.isLoading=!1,r.abrupt("return");case 17:t.isLoading=!1;case 18:case"end":return r.stop()}}),r,null,[[2,11]])})))()}}},M=k,L=r("2877"),A=Object(L["a"])(M,a,s,!1,null,null,null),C=A.exports,_=r("498a"),z=r("cbd0"),S=r("1073"),O=r("b1fc"),T=r("44d4"),j=r("7049"),P=r("b519"),R=r("cca8");r("a0d8");n["a"].use(_["a"]),n["a"].use(z["a"]),n["a"].use(S["a"]),n["a"].use(O["a"]),n["a"].use(T["a"]),n["a"].use(j["a"]),n["a"].use(j["a"]),n["a"].use(P["a"]),n["a"].use(R["a"]),n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(C)}}).$mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},9:function(e,t){},a0d8:function(e,t,r){}});
//# sourceMappingURL=app.5c26a5f2.js.map